
# Домашнее задание к занятию "3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Задача 1
**Сценарий выполения задачи:**
- **создайте свой репозиторий на https://hub.docker.com;**
- **выберете любой образ, который содержит веб-сервер Nginx;**
- **создайте свой fork образа;**
- **реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:**
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>

**Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.**

https://hub.docker.com/r/muroway/devops-netology

## Задача 2

**Посмотрите на сценарий ниже и ответьте на вопрос:** **"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"**
**Детально опишите и обоснуйте свой выбор.**


**Сценарий:**

**Высоконагруженное монолитное java веб-приложение**

- физический сервер, так как требуется максимальное количество ресурсов.

**Nodejs веб-приложение**

- для веб-приложения должно быть достаточно докера.

**Мобильное приложение c версиями для Android и iOS**

- для мобильного приложения скорее необходим GUI и виртуальная/физическая машина с Android Studio и Xcode.

**Шина данных на базе Apache Kafka**

- виртуальная машина, чтобы не иметь проблем с производительностью.

- в тестовом режиме можно развернуть в докер.

**Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;**

- ноды elasticsearch на виртуальные машины для производительности, также есть практики по установке в докер.
- для сбора логов logstash можно установить в докер
- панель kibana также можно реализовать через докер.

**Мониторинг-стек на базе Prometheus и Grafana**

- должно хватить докера, так же можно быстро развернуть контейнер и перенастроить под разные сценарии использования.

**MongoDB, как основное хранилище данных для java-приложения**

- для обеспечения производительности базу данных лучше иметь на виртуальной машине или физическом сервере.
 
**Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.**

- Виртуальная машина, вряд ли получится установить докер внутри докера.


## Задача 3

- **Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;**

```
vagrant@server1:~/data$ docker run -it -d --name centos_data -v ~/data:/data centos
65b154ff10aa91a28ef7c5454d34822ff803f15ae9d35afddbd0a3c2e5383a51
```

- **Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;**

```
vagrant@server1:~/data$ docker run -it -d --name debian_data -v ~/data:/data debian
988417cc0f0e3b852633f1b72f72b73a9af6de49d310df35e52c3f142d86c1c0
```

- **Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data;**
```
bash
[root@65b154ff10aa /]# cd data
[root@65b154ff10aa data]# vi text_on_centos
[root@65b154ff10aa data]# exit
exit
```

- **Добавьте еще один файл в папку /data на хостовой машине;**

```
vagrant@server1:~/data$ docker exec -it centos_data /bin/
vagrant@server1:~/data$ ls
file_on_host
```

- **Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.**

```
vagrant@server1:~/data$ docker exec -it debian_data /bin/bash
root@988417cc0f0e:/# ls
bin  boot  data  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
root@988417cc0f0e:/# cd data
root@988417cc0f0e:/data# ls
text_on_centos
root@988417cc0f0e:/data# cat text_on_centos
Text on centos
```
